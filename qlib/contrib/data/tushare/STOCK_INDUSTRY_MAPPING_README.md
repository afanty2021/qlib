# ä¸ªè‚¡-ç”³ä¸‡äºŒçº§è¡Œä¸šæ˜ å°„æ•°æ®ä½¿ç”¨æŒ‡å—

> æœ€åæ›´æ–°ï¼š2025-12-29

## ğŸ“Š æ•°æ®æ¦‚è§ˆ

å·²æˆåŠŸä¸‹è½½**Aè‚¡ç”³ä¸‡äºŒçº§è¡Œä¸šåˆ†ç±»æ˜ å°„æ•°æ®**ï¼Œé€šè¿‡TuShareçš„`index_member` APIåå‘æŸ¥è¯¢è·å–ã€‚

### æ•°æ®ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°é‡ |
|-----|------|
| æ˜ å°„è®°å½•æ€»æ•° | 3,403æ¡ |
| è¦†ç›–è‚¡ç¥¨æ•° | 3,403åª |
| è¦†ç›–è¡Œä¸šæ•° | 67ä¸ªç”³ä¸‡äºŒçº§è¡Œä¸š |
| è¡Œä¸šä»£ç å®Œæ•´æ€§ | 100%ï¼ˆæ‰€æœ‰è®°å½•éƒ½æœ‰industry_codeï¼‰ |

### è¦†ç›–èŒƒå›´

- **æ·±åœ³å¸‚åœº**ï¼š1,894åªè‚¡ç¥¨
- **ä¸Šæµ·å¸‚åœº**ï¼š1,509åªè‚¡ç¥¨
- **åŒ—äº¤æ‰€**ï¼šæš‚æœªè¦†ç›–ï¼ˆç”³ä¸‡è¡Œä¸šæŒ‡æ•°ä¸åŒ…å«åŒ—äº¤æ‰€è‚¡ç¥¨ï¼‰

## ğŸ“ æ•°æ®æ–‡ä»¶

### ä¸»è¦æ–‡ä»¶

| æ–‡ä»¶å | æ ¼å¼ | è¯´æ˜ |
|-------|------|------|
| `stock_industry_mapping_SW2021__latest.csv` | CSV | å®Œæ•´æ˜ å°„è¡¨ï¼ˆCSVæ ¼å¼ï¼‰ |
| `stock_industry_dict_SW2021_complete_*.json` | JSON | å­—å…¸æ ¼å¼æ˜ å°„ï¼ˆä¾¿äºä»£ç æŸ¥è¯¢ï¼‰ |
| `stock_industry_mapping_complete_report.md` | Markdown | è¯¦ç»†ç»Ÿè®¡æŠ¥å‘Š |

### æ–‡ä»¶ä½ç½®

```
~/.qlib/qlib_data/cn_data/industry_data/
```

## ğŸ” æ•°æ®å­—æ®µè¯´æ˜

### CSVæ ¼å¼å­—æ®µ

```csv
ts_code,symbol,name,industry_code,industry_name,index_code,in_date,is_new,update_date
```

| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|------|
| ts_code | TuShareæ ¼å¼è‚¡ç¥¨ä»£ç  | 000510.SZ |
| symbol | è‚¡ç¥¨ä»£ç ï¼ˆæ•°å­—ï¼‰ | 000510 |
| name | è‚¡ç¥¨åç§° | æ–°é‡‘è·¯ |
| industry_code | ç”³ä¸‡äºŒçº§è¡Œä¸šä»£ç  | 220200 |
| industry_name | ç”³ä¸‡äºŒçº§è¡Œä¸šåç§° | åŒ–å­¦åŸæ–™ |
| index_code | ç”³ä¸‡è¡Œä¸šæŒ‡æ•°ä»£ç  | 801033.SI |
| in_date | çº³å…¥æ—¥æœŸ | 19930507 |
| is_new | æ˜¯å¦æœ€æ–°æˆåˆ† | Y |
| update_date | æ•°æ®æ›´æ–°æ—¥æœŸ | 2025-12-29 |

### JSONæ ¼å¼å­—æ®µ

```json
{
  "000510.SZ": {
    "industry_code": "220200",
    "industry_name": "åŒ–å­¦åŸæ–™",
    "symbol": "000510",
    "name": "æ–°é‡‘è·¯"
  }
}
```

## ğŸ’» ä½¿ç”¨ç¤ºä¾‹

### Pythonç¤ºä¾‹

#### 1. åŠ è½½CSVæ•°æ®

```python
import pandas as pd

# è¯»å–æ˜ å°„è¡¨
mapping_df = pd.read_csv('~/.qlib/qlib_data/cn_data/industry_data/stock_industry_mapping_SW2021__latest.csv')

# æŸ¥è¯¢æŸåªè‚¡ç¥¨çš„è¡Œä¸š
stock_info = mapping_df[mapping_df['ts_code'] == '000001.SZ']
print(f"è‚¡ç¥¨: {stock_info['name'].values[0]}")
print(f"è¡Œä¸š: {stock_info['industry_name'].values[0]}")
print(f"è¡Œä¸šä»£ç : {stock_info['industry_code'].values[0]}")
```

#### 2. åŠ è½½JSONå­—å…¸

```python
import json
from pathlib import Path

# è¯»å–å­—å…¸
data_dir = Path("~/.qlib/qlib_data/cn_data/industry_data").expanduser()
json_file = list(data_dir.glob("stock_industry_dict_SW2021_complete_*.json"))[0]

with open(json_file, 'r', encoding='utf-8') as f:
    stock_to_industry = json.load(f)

# æŸ¥è¯¢è‚¡ç¥¨è¡Œä¸š
ts_code = '000001.SZ'
if ts_code in stock_to_industry:
    info = stock_to_industry[ts_code]
    print(f"{ts_code}: {info['name']} - {info['industry_name']} ({info['industry_code']})")
```

#### 3. è·å–æŸä¸ªè¡Œä¸šçš„æ‰€æœ‰è‚¡ç¥¨

```python
# è·å–æŸä¸ªè¡Œä¸šçš„è‚¡ç¥¨åˆ—è¡¨
industry_name = 'åŠå¯¼ä½“'
industry_stocks = mapping_df[mapping_df['industry_name'] == industry_name]

print(f"{industry_name}è¡Œä¸šå…±æœ‰ {len(industry_stocks)} åªè‚¡ç¥¨")
print(industry_stocks[['ts_code', 'name']].head(10))
```

#### 4. ç»Ÿè®¡è¡Œä¸šåˆ†å¸ƒ

```python
# ç»Ÿè®¡è¡Œä¸šåˆ†å¸ƒ
industry_dist = mapping_df['industry_name'].value_counts()

print("ç”³ä¸‡äºŒçº§è¡Œä¸šåˆ†å¸ƒï¼ˆTop 10ï¼‰:")
for industry, count in industry_dist.head(10).items():
    pct = count / len(mapping_df) * 100
    print(f"  {industry}: {count}åª ({pct:.2f}%)")
```

#### 5. åœ¨Qlibä¸­ä½¿ç”¨

```python
from qlib import init
from qlib.data import D
import pandas as pd
from pathlib import Path

# åˆå§‹åŒ–Qlib
init(provider_uri="~/.qlib/qlib_data/cn_data", region="cn")

# åŠ è½½è¡Œä¸šæ˜ å°„
data_dir = Path("~/.qlib/qlib_data/cn_data/industry_data").expanduser()
mapping_df = pd.read_csv(data_dir / "stock_industry_mapping_SW2021__latest.csv")

# åˆ›å»ºè‚¡ç¥¨åˆ°è¡Œä¸šçš„å­—å…¸
stock_to_industry = dict(zip(
    mapping_df['ts_code'],
    mapping_df[['industry_code', 'industry_name']].to_dict('records')
))

# è·å–æ²ªæ·±300æˆåˆ†è‚¡
instruments = D.instruments('csi300')

# ä¸ºæ¯åªè‚¡ç¥¨æ·»åŠ è¡Œä¸šä¿¡æ¯
for instrument in instruments[:10]:  # ç¤ºä¾‹ï¼šå‰10åª
    industry_info = stock_to_industry.get(instrument)
    if industry_info:
        print(f"{instrument}: {industry_info['industry_name']} ({industry_info['industry_code']})")
```

## ğŸ“ˆ è¡Œä¸šåˆ†å¸ƒ

### Top 20 è¡Œä¸šï¼ˆæŒ‰è‚¡ç¥¨æ•°é‡ï¼‰

| æ’å | è¡Œä¸šåç§° | è‚¡ç¥¨æ•° | å æ¯” |
|-----|---------|--------|------|
| 1 | æ±½è½¦é›¶éƒ¨ä»¶ | 235 | 6.91% |
| 2 | é€šç”¨æœºæ¢° | 217 | 6.38% |
| 3 | ä¸“ç”¨è®¾å¤‡ | 177 | 5.20% |
| 4 | åŒ–å­¦åˆ¶å“ | 170 | 5.00% |
| 5 | åŠå¯¼ä½“ | 169 | 4.97% |
| 6 | åŒ–å­¦åˆ¶è¯ | 150 | 4.41% |
| 7 | åŒ»ç–—å™¨æ¢° | 126 | 3.70% |
| 8 | ç”µåŠ› | 102 | 3.00% |
| 9 | å…‰å­¦å…‰ç”µå­ | 92 | 2.70% |
| 10 | ç”µå­åˆ¶é€  | 90 | 2.64% |
| 11 | æˆ¿åœ°äº§å¼€å‘ | 89 | 2.62% |
| 12 | é€šä¿¡è®¾å¤‡ | 85 | 2.50% |
| 13 | è®¡ç®—æœºè®¾å¤‡ | 84 | 2.47% |
| 14 | å®¶ç”¨è½»å·¥ | 73 | 2.15% |
| 15 | å¡‘æ–™ | 71 | 2.09% |
| 16 | ä¸­è¯ | 67 | 1.97% |
| 17 | å·¥ä¸šé‡‘å± | 60 | 1.76% |
| 18 | æœè£…å®¶çºº | 59 | 1.73% |
| 19 | ä¸€èˆ¬é›¶å”® | 58 | 1.70% |
| 20 | åŒ–å­¦åŸæ–™ | 57 | 1.67% |

## âš ï¸ æ•°æ®è¯´æ˜

### è¦†ç›–èŒƒå›´

1. **åŒ…å«çš„è‚¡ç¥¨**ï¼š3,403åªï¼ˆä¸»è¦æ˜¯æ²ªæ·±ä¸¤å¸‚çš„ä¸»æ¿ã€ä¸­å°æ¿ã€åˆ›ä¸šæ¿è‚¡ç¥¨ï¼‰
2. **æœªåŒ…å«çš„è‚¡ç¥¨**ï¼š
   - åŒ—äº¤æ‰€è‚¡ç¥¨ï¼ˆç”³ä¸‡è¡Œä¸šæŒ‡æ•°ä¸åŒ…å«ï¼‰
   - éƒ¨åˆ†æ–°ä¸Šå¸‚è‚¡ç¥¨ï¼ˆå°šæœªçº³å…¥è¡Œä¸šæŒ‡æ•°ï¼‰
   - é€€å¸‚æˆ–STè‚¡ç¥¨ï¼ˆéƒ¨åˆ†è¡Œä¸šæŒ‡æ•°ä¸åŒ…å«ï¼‰

### è¡Œä¸šçº§åˆ«

- **è¡Œä¸šçº§åˆ«**ï¼šç”³ä¸‡äºŒçº§è¡Œä¸šï¼ˆL2ï¼‰
- **è¡Œä¸šæ•°é‡**ï¼šå…±104ä¸ªç”³ä¸‡äºŒçº§è¡Œä¸šï¼Œå½“å‰è¦†ç›–67ä¸ª
- **æœªè¦†ç›–è¡Œä¸š**ï¼š37ä¸ªè¡Œä¸šï¼ˆå¦‚é“¶è¡Œã€èˆªç©ºè¿è¾“ã€æ°´åŠ¡ç­‰ï¼‰å¯èƒ½å› æ•°æ®æºé™åˆ¶æš‚æ— æˆåˆ†è‚¡æ•°æ®

### æ•°æ®æ›´æ–°

- **æ›´æ–°é¢‘ç‡**ï¼šå»ºè®®æ¯æœˆæ›´æ–°ä¸€æ¬¡
- **æ›´æ–°æ–¹æ³•**ï¼šé‡æ–°è¿è¡Œ`download_stock_industry_mapping_v2.py`
- **æ•°æ®æ—¶æ•ˆ**ï¼šåŸºäºç”³ä¸‡è¡Œä¸šæŒ‡æ•°æˆåˆ†è‚¡ï¼Œæˆåˆ†è‚¡è°ƒæ•´æ¯æœˆè¿›è¡Œ

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆåªæœ‰3403åªè‚¡ç¥¨ï¼Œå°‘äºæ€»æ•°5466åªï¼Ÿ

A: è¿™æ˜¯å› ä¸ºï¼š
1. ç”³ä¸‡è¡Œä¸šæŒ‡æ•°æˆåˆ†è‚¡ä¸»è¦è¦†ç›–æ²ªæ·±ä¸»æ¿ã€ä¸­å°æ¿ã€åˆ›ä¸šæ¿
2. ä¸åŒ…å«åŒ—äº¤æ‰€è‚¡ç¥¨
3. éƒ¨åˆ†è¡Œä¸šï¼ˆå¦‚é“¶è¡Œï¼‰çš„æˆåˆ†è‚¡æ•°æ®ç¼ºå¤±

### Q2: å¦‚ä½•ä½¿ç”¨è¿™äº›æ•°æ®è¿›è¡Œè¡Œä¸šåˆ†æï¼Ÿ

A: å¯ä»¥ï¼š
1. æŒ‰è¡Œä¸šåˆ†ç»„è®¡ç®—è¡Œä¸šæŒ‡æ ‡ï¼ˆè¡Œä¸šæ”¶ç›Šç‡ã€è¡Œä¸šPEç­‰ï¼‰
2. æ„å»ºè¡Œä¸šè½®åŠ¨ç­–ç•¥
3. è¿›è¡Œè¡Œä¸šä¸­æ€§åŒ–å¤„ç†
4. åˆ†æè¡Œä¸šé›†ä¸­åº¦

### Q3: æ•°æ®å¦‚ä½•æ›´æ–°ï¼Ÿ

A: è¿è¡Œè„šæœ¬å³å¯ï¼š
```bash
export TUSHARE_TOKEN="your_token"
python3 /path/to/download_stock_industry_mapping_v2.py
```

### Q4: å¦‚ä½•è·å–ç”³ä¸‡ä¸€çº§è¡Œä¸šåˆ†ç±»ï¼Ÿ

A: ä½¿ç”¨ä¹‹å‰ä¸‹è½½çš„`industry_SW2021_L1__latest.csv`æ–‡ä»¶ï¼ŒåŒ…å«28ä¸ªç”³ä¸‡ä¸€çº§è¡Œä¸šã€‚

### Q5: è¡Œä¸šä»£ç å¦‚ä½•è§£è¯»ï¼Ÿ

A: ç”³ä¸‡è¡Œä¸šä»£ç è§„åˆ™ï¼š
- ç¬¬ä¸€ä½ï¼š1-9ä»£è¡¨ä¸€çº§è¡Œä¸š
- å‰ä¸‰ä½ï¼š1-9ä»£è¡¨äºŒçº§è¡Œä¸š
- ä¾‹å¦‚ï¼š220200
  - 2å¼€å¤´ï¼šäºŒçº§è¡Œä¸š
  - 22: åŒ–å·¥ç±»ä¸€çº§è¡Œä¸š
  - 220200: åŒ–å­¦åŸæ–™äºŒçº§è¡Œä¸š

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æŸ¥çœ‹ç›¸å…³æ–‡æ¡£æˆ–æäº¤Issueã€‚

---

*æœ€åæ›´æ–°ï¼š2025-12-29*
